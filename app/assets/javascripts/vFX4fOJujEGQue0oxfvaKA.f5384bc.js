(function() {function h(b){this.i=b;this.g=null}
function l(){var b=window._analyticsToken,a;a=window._analyticsEnabled?{track:function(a,b,d){mixpanel.track(a,b,d)},h:function(a,c){c.distinct_id=null;c.token=b;var d="//api.mixpanel.com/track/?data="+window.btoa(JSON.stringify({event:a,properties:c}))+"&ip=1";$.ajax({url:d,async:!1})},increment:function(a,b){mixpanel.people.increment(a,b)},init:function(a){mixpanel.init(a)},identify:function(a){mixpanel.identify(a)},alias:function(a){mixpanel.alias(a)},name_tag:function(a){mixpanel.name_tag(a)},people:{set:function(a,
b){mixpanel.people.set(a,b)}}}:{track:function(a,b,d){window.console&&window.console.log("analytics:track",a,b);d&&window.setTimeout(d,0)},h:function(a,b){window.console&&window.console.log("analytics:track",a,b)},init:function(){window.console&&window.console.log("analytics:init")},identify:function(a){window.console&&window.console.log("analytics:identify",a)},alias:function(a){window.console&&window.console.log("analytics:alias",a)},people:{set:function(a,b){b&&window.setTimeout(b,0)}},name_tag:function(){}};
a.init(b);return new h(a)}h.prototype.track=function(b,a){null!=this.g&&(null==a?a={design:this.g}:a.design=this.g);this.i.track(b,a)};h.prototype.h=function(b,a){null!=this.g&&(null==a?a={design:this.g}:a.design=this.g);this.i.h(b,a)};h.prototype.increment=function(b,a){this.i.increment(b,a)};var n=960,p=0,q=0,r=0,s=0,t=0,u=!0,v,w=0,y=!1,z=0,A=!1,B=$(),C=0,D=0,E=0,F=0,G=!1,H=!0,I;$(J);function J(){I=l();I.track("homepage_visit",{},null);$(window).on("resize",K);$("form").on("submit",L);$("#learnMore").on("click",M);$("#username").on("focus",N).on("blur",O);$("#documentTypes").on("mousemove",P);$("#content2 .feature").on("click",Q);B=$("#imagesFeature > *");K();R();S()}
function T(b,a){$(b).css({"transform-origin":"0 0","-ms-transform-origin:":"0 0","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0",transform:a,"-ms-transform:":a,"-moz-transform":a,"-webkit-transform":a})}
function U(b,a,e,c){a=$(b).find(a);var d=$(a).parent();"undefined"==typeof e&&(e=$(a).width());"undefined"==typeof c&&(c=$(a).height());$(d).hasClass("par-scale-container")||($(a).wrap('<div class="par-scale-container"></div>'),d=$(a).parent());b=Math.min($(b).width()/e,1);T(a,"scale("+b+")");$(d).css({width:e*b,height:c*b})}function V(b,a){var e=$(b).find(a),c=$(e).parent();$(c).hasClass("par-scale-container")&&($(e).unwrap(),T(e,""))}
function K(){if(G=-1!=$("#screenIsSmall").css("background-color").indexOf("1")){if(H||0==$("#content").find("#sidekick").length)$("#content").prepend($("#sidekick")),$("#documentTypes").before($("#content1 > .text")),$("#content2 .feature").before($("#content2 > .text")),$("#content4 .feature").before($("#content4 > .text")),$("#content5 .feature").before($("#content5 > .text"));U("#content2",".feature",480,300);U("#content4",".feature",480,128);U("#content3","#imagesWrapper",480,118);U("#content3",
"#fontsFeature",700,70);U("#content5",".feature",500,300)}else if(H||0==$("#hero").find("#sidekick").length)$("#hero").append($("#sidekick")),$("#documentTypes").after($("#content1 > .text")),$("#content2 .feature").after($("#content2 > .text")),$("#content4 .feature").after($("#content4 > .text")),$("#content5 .feature").after($("#content5 > .text")),V("#content2",".feature"),V("#content4",".feature"),V("#content3","#imagesWrapper"),V("#content3","#fontsFeature"),V("#content5",".feature");p=$(window).width();
var b=q=$(window).height(),a=p*(540/n);r=Math.min(b,a);$("#hero").css("height",Math.min(b,a));s=$("header").height();t=$("#content").outerWidth();w=$("#content2 .feature").offset().top+$("#content2 .feature").height();z=$("#fontsFeature").offset().top;C=$("#content3").offset().top;D=C+$("#content3").outerHeight();b=$("#content").width();$("#imagesWrapper").css("padding-left",(p-b)/2);aa();H=!1}
function L(){var b=0<$(this).parents("#sidekick").length?"top":"bottom";I.h("homepage_reserve_submit",{position:b});return!0}function M(){$("body,html").animate({scrollTop:$("#hero").height()},700);return!1}function N(){$("#hero .amazing").addClass("focused")}function O(){$("#hero .amazing").removeClass("focused")}var W=0,X=!1;$(window).on("scroll",R);function R(){W=$(window).scrollTop();!X&&window.k(ba);X=!0}
function ba(){X=!1;W>r?(u=!1,$("video").get(0).pause()):u||(u=!0,$("video").get(0).play());!G&&W>r?$("header").addClass("content"):$("header").removeClass("content");!G&&W>r-s/2?$("header").addClass("lightBG"):($("header").removeClass("lightBG"),$("#hero .amazing").css("opacity",1-W/(r/2)),$("#learnMore").css("opacity",1-W/(r/2)));!G&&W>r/2?$("#miniGetStarted").css("margin-right",0).css("opacity",1):$("#miniGetStarted").css("margin-right",-10.5*(1-W/(r/2))+"em").css("opacity",W/(r/2));W+0.95*q>=w&&
Q();!A&&W+q>=z&&(A=!0,ca());W+q>C&&W<D&&Y()}function S(){var b=$("#documentTypes > li");if(G)b.toggleClass("on",!0);else{var a=b.filter(".on").index();a>=$("#documentTypes li").length-1&&(a=-1);b.eq(a).removeClass("on");b.eq(a+1).addClass("on");v=setTimeout(S,2E3)}}
function P(b){var a=$("#documentTypes").find("> li");G?a.toggleClass("on",!0):(null!=v&&clearTimeout(v),a.each(function(){var e=$(this),c=e.offset();if(b.pageX>=c.left&&b.pageX<c.left+e.outerWidth(!0)&&b.pageY>=c.top&&b.pageY<c.top+e.outerHeight(!0))return e.hasClass("on")||(a.removeClass("on"),e.addClass("on")),!1}))}
function Q(){function b(){var b=$("#content2 .feature ul"),c=$("#feature2Hand"),d=$("#feature2Design");d.css("left","").css("top","").css("opacity","");Z(500,function(){$("#feature2SearchBox").addClass("noCaret").animate({marginTop:"+=100",opacity:0},500,"easeOutSine");Z(300,function(){da()});Z(1500,function(){c.animate({left:155},600);Z(700,function(){b.position();var f=b.find("li").eq(1);f.position();var g=f.find("img").clone();g.attr("id","feature2Clone");g.css("left",145);g.css("top",40);g.appendTo(a);
f.hide();Z(20,function(){c.addClass("pickedUp");g.addClass("pickedUp")});Z(500,function(){b.animate({marginLeft:-a.width()},600,"easeOutSine");d.animate({left:0},600,"easeOutSine");Z(700,function(){c.animate({left:"-=43px",top:"+=58px"},400,"easeOutSine");g.animate({left:"-=43px",top:"+=58px"},400,"easeOutSine");Z(400,function(){c.removeClass("pickedUp").animate({opacity:0},300,"linear");g.removeClass("pickedUp");Z(3E3,function(){$("#feature2SearchBox").removeClass("noCaret").css("margin-top","-=200");
$("#feature2SearchBox > span").text("");b.css("display","none").removeClass("laidOut").css("margin-left","");b.find("li").removeClass("show");c.css("left","").css("top","").css("opacity","");d.add(g).animate({top:"+="+a.height(),opacity:0},1E3,"easeOutSine");Z(600,function(){b.css("display","");$("#feature2SearchBox").animate({marginTop:"+=100",opacity:1},500,"easeOutSine");Z(600,function(){y=!1;Q();g.remove();f.show()})})})})})})})})})}y||(y=!0,ea(b));var a=$("#content2 .feature")}
function ea(b){var a="monkeys";function e(){c+=a.charAt(c.length);$("#feature2SearchBox > span").text(c);c.length<a.length?setTimeout(e,200):b()}var c="";e()}
function da(){var b=$("#content2 .feature ul");if(!(0>=$("li",b).length)){for(var a=$("li",b).first().width(),e=parseInt($("img",b).css("margin-right"),10),c=parseInt($("img",b).css("margin-bottom"),10),d=Math.round(b.width()/a),f=[],g=0;g<d;g++)f[g]={height:0,j:[],l:0};$("> li",b).each(function(){for(var b=$(this),d=0,g=f[d].height,m=0;m<f.length;m++)if(0==f[m].height){d=m;g=0;break}else f[m].height<g&&(d=m,g=f[m].height);var m=$("img",b),x=m.attr("width")||m.get(0).naturalWidth,fa=m.attr("height")||
m.get(0).naturalHeight,x=(a-e)/x*fa;m.css("height",x);b.css("width",a).css("left",d*a);b.css("top",g);f[d].height+=x+c;f[d].j.push(b)});b.addClass("laidOut");setTimeout(function(){$("> li",b).each(function(a){var b=$(this);setTimeout(function(){b.addClass("show")},50*a)})},20)}}
function ca(){function b(a){var e=a.find("span").eq(0),c=e.text();do var d="f-"+c+"-"+Math.floor(9*Math.random());while(e.find("span").hasClass(d));a.append('<span class="top underneath">'+c+'<span class="'+d+'"></span></span>');a.append('<span class="bottom up">'+c+'<span class="'+d+'"></span></span>');Z(20,function(){a.find("> span").eq(0).addClass("down");a.find("> span").last().removeClass("up")});Z(1E3,function(){a.find("span").eq(0).remove();a.find("span").eq(0).remove();a.find("span").removeClass("underneath");
Z(3E3*Math.random(),function(){b(a)})})}$("#fontsFeature .splitFlap:not(.blank)").each(function(){var a=$(this);Z(3E3*Math.random(),function(){b(a)})})}function aa(){var b=(p-t)/2;(function(){B.each(function(){var a=$(this),e=a.data("marginTop"),c=Math.pow(e,1.2)+Math.random()*t+b,d=parseInt(a.data("marginLeft"),10),c=a.hasClass("left")?-d-c:t-d+c;a.css("left",c).data("startLeft",c).data("top",e);E=Math.min(E,e);F=Math.max(F,e)})})();Y()}
function Y(){var b=$("#imagesFeature"),a=C-q,b=b.offset().top+b.outerHeight()/2-0.75*q-a,e=Math.max(0,(W-a)/b);0!=e&&B.each(function(a){var b=$(this),f=parseInt(b.data("top"),10),g=parseInt(b.data("startLeft"),10),f=(f-E)/F;a=(f-0.6)*(600+100*(a%5));f=e-f/2;f=Math.min(1,f);b.css("left",(1-f*(2-f))*g);b.css("top",(1-f)*a)})}
window.k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)};function Z(b,a){setTimeout(a,b)};})();
